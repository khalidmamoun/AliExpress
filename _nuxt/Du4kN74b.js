import{_ as w}from"./9PtdX7Ft.js";import{I as y,n as p,r as k,g as C,H as S,y as E,w as _,j,o as a,a as t,c as d,b as G,d as L,t as l,F as I,m as P}from"./DP8Y3t9_.js";import q from"./CrYcFZXQ.js";import{u as B}from"./CAh-G4Tp.js";import"./afzBCQRM.js";import"./Cus7-ggC.js";const x=y("/images/emptycart.png"),N={id:"shoppingCartPage",class:"mt-8 max-w-[1200px] mx-auto px-4"},$={key:0,class:"bg-white rounded-3xl shadow-lg min-h-[500px] flex items-center justify-center"},T={class:"text-center px-6 pb-10"},U={key:1,class:"md:flex gap-6 justify-between mx-auto w-full"},V={class:"md:w-[68%] space-y-6"},D={class:"bg-white rounded-3xl p-6 shadow-md transition-shadow"},F={class:"text-2xl font-bold mb-3 text-gray-800"},Q={id:"Items",class:"space-y-4"},R=["src"],A={class:"flex-1 flex flex-col justify-between"},H={class:"font-semibold text-lg text-green-800"},M={class:"text-green-900 text-sm mt-1"},z={class:"flex gap-3 items-center mt-2"},J={class:"font-bold text-green-800"},K={class:"text-yellow-800 line-through"},O={class:"flex items-center gap-2 mt-3"},W=["onClick"],X={class:"font-semibold text-green-800"},Y=["onClick"],Z=["onClick"],tt={class:"hidden md:block md:w-[30%]"},et={class:"bg-white rounded-3xl p-4 shadow-md sticky top-6"},st={class:"flex justify-between mb-2"},ot={class:"flex justify-between font-bold border-t pt-2"},nt={key:2,class:"bg-white rounded-3xl shadow-lg min-h-[500px] flex items-center justify-center"},mt={__name:"shoppingcart",setup(lt){const n=B(),r=j(),c=p(()=>!!n.user),i=k([]);C(()=>{n.loadCart(),i.value=[...n.checkout]}),S(()=>n.checkout,()=>{i.value=[...n.checkout]},{deep:!0});function g(s){n.addItem(s)}function f(s){s.quantity>1?(s.quantity-=1,n.saveCart()):u(s)}function u(s){n.removeItem(s)}const m=p(()=>i.value.reduce((s,e)=>s+e.price*(e.quantity||1),0));function b(){if(!c.value){r.push("/auth");return}i.value.length!==0&&r.push("/checkout")}return(s,e)=>{const v=w;return a(),E(q,null,{default:_(()=>[t("div",N,[c.value?i.value.length>0?(a(),d("div",U,[t("div",V,[t("div",D,[t("div",F," Shopping Cart [ "+l(i.value.length)+" ] ",1)]),t("div",Q,[(a(!0),d(I,null,P(i.value,o=>(a(),d("div",{key:o.id,class:"flex gap-4 items-start bg-green-50 rounded-lg p-4 shadow-sm"},[t("img",{src:o.url,class:"w-24 h-24 object-contain rounded-lg border"},null,8,R),t("div",A,[t("div",null,[t("h3",H,l(o.title),1),t("p",M,l(o.description),1),t("div",z,[t("span",J,l(o.price.toLocaleString("en-EG"))+" EGP",1),t("span",K,l((o.price*1.05).toLocaleString("en-EG"))+" EGP",1)])]),t("div",O,[t("button",{onClick:h=>f(o),class:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded hover:bg-yellow-200"},"-",8,W),t("span",X,l(o.quantity),1),t("button",{onClick:h=>g(o),class:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded hover:bg-yellow-200"},"+",8,Y),t("button",{onClick:h=>u(o),class:"cursor-pointer font-bold ml-auto text-red-600 hover:text-red-800"}," ðŸ—‘ï¸Delete ",8,Z)])])]))),128))])]),t("div",tt,[t("div",et,[e[4]||(e[4]=t("h3",{class:"text-xl font-bold mb-4"},"Summary",-1)),t("div",st,[e[2]||(e[2]=t("span",null,"Subtotal:",-1)),t("span",null,l(m.value.toLocaleString("en-EG"))+" EGP",1)]),t("div",ot,[e[3]||(e[3]=t("span",null,"Total:",-1)),t("span",null,l(m.value.toLocaleString("en-EG"))+" EGP",1)]),t("button",{onClick:b,class:"mt-4 w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-3 rounded-full transition-shadow shadow-md cursor-pointer"}," Checkout ")])])])):(a(),d("div",nt,[...e[5]||(e[5]=[t("div",{class:"text-center px-6 pb-10"},[t("img",{src:x,alt:""})],-1)])])):(a(),d("div",$,[t("div",T,[e[1]||(e[1]=t("img",{class:"mx-auto mb-6",width:"280",src:x,alt:"Empty Cart"},null,-1)),G(v,{to:"/auth",class:"bg-red-500 hover:bg-red-600 text-white text-lg font-semibold px-12 py-3 rounded-full transition-shadow shadow-md"},{default:_(()=>[...e[0]||(e[0]=[L(" Sign in ",-1)])]),_:1})])]))])]),_:1})}}};export{mt as default};
