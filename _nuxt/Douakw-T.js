import{_ as y}from"./9PtdX7Ft.js";import{_ as k,I as L}from"./afzBCQRM.js";import{s as m}from"./Cus7-ggC.js";import{r as t,g as j,j as C,c as s,b as h,a as n,w as N,k as i,l as V,t as p,F as z,m as B,o,d as I}from"./DP8Y3t9_.js";const O={class:"w-full h-screen flex flex-col items-center justify-center bg-white px-4"},S={class:"max-w-[400px] w-full bg-gray-50 p-6 rounded-lg shadow-md"},A={key:0,class:"flex justify-center mb-4"},F={key:1,class:"text-red-500 text-center mb-4"},G={key:2,class:"text-green-500 text-center mb-4"},T=["onClick"],W=["src","alt"],$={__name:"auth",setup(D){const f=C(),_=t(""),x=t(""),c=t(!1),g=t(""),d=t(""),l=t(null),b=[{id:"google",name:"Google",icon:"/images/google.png"},{id:"github",name:"GitHub",icon:"/images/github.png"}];j(async()=>{const{data:u}=await m.auth.getSession();l.value=u.session?.user||null,l.value&&f.push("/Profile")});const w=async u=>{c.value=!0;const{data:e,error:r}=await m.auth.signInWithOAuth({provider:u,options:{redirectTo:"https://nweezbuwcjthzfwvfpzg.supabase.co/auth/v1/callback"}});if(r){g.value=r.message,c.value=!1;return}window.location.href=e.url},v=async()=>{await m.auth.signOut(),l.value=null,_.value="",x.value="",d.value="Logged out successfully!",f.push("/login")};return(u,e)=>{const r=y;return o(),s("div",O,[h(r,{to:"/",class:"mb-6"},{default:N(()=>[...e[0]||(e[0]=[n("img",{width:"170",src:k,alt:"Logo"},null,-1)])]),_:1}),n("div",S,[e[1]||(e[1]=n("h1",{class:"text-center text-2xl font-bold mb-6"},"Login / Sign up",-1)),c.value?(o(),s("div",A,[h(V(L),{icon:"eos-icons:loading",class:"text-3xl animate-spin"})])):i("",!0),g.value?(o(),s("p",F,p(g.value),1)):i("",!0),d.value?(o(),s("p",G,p(d.value),1)):i("",!0),(o(),s(z,null,B(b,a=>n("button",{key:a.name,onClick:E=>w(a.id),class:"mb-3 flex items-center justify-center gap-3 p-3 w-full border hover:bg-gray-100 rounded-full text-lg font-semibold cursor-pointer"},[n("img",{src:a.icon,alt:a.name,class:"w-[30px]"},null,8,W),I(" Login with "+p(a.name),1)],8,T)),64)),l.value?(o(),s("button",{key:3,onClick:v,class:"mt-4 bg-red-500 text-white px-4 py-2 rounded w-full"}," Logout ")):i("",!0)])])}}};export{$ as default};
