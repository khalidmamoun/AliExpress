import{g as D,r as i,j,c as a,a as e,b as r,d as x,l as o,s as w,F,w as g,T as P,z as B,y as I,k as T,A as V,m as z,o as l,t as d}from"./DP8Y3t9_.js";import{I as u,_ as N}from"./afzBCQRM.js";import{s as m}from"./Cus7-ggC.js";import{u as O}from"./CAh-G4Tp.js";import{_}from"./9PtdX7Ft.js";const k=i(null),L=j();function U(){const f=async()=>{const{data:n}=await m.auth.getSession();k.value=n.session?.user||null},b=async()=>{await m.auth.signOut(),k.value=null,L.push("/")};return D(f),{user:k,logout:b,fetchUser:f}}const E={id:"TopMenu",class:"w-full bg-[#FAFAFA] md:block hidden"},G={class:"flex items-center justify-end text-xs text-[#333333] font-light px-2 h-10 max-w-[1200px] mx-auto"},W={class:"flex items-center gap-1 px-3 hover:text-[#FF46F6] cursor-pointer border-r-0"},q=["src"],K={key:0,class:"absolute bg-white w-[220px] text-[#333333] z-50 top-[38px] left-[-83px] border border-gray-200 rounded-lg shadow-md mt-5"},R={key:0,class:"flex items-center gap-1 px-3 mb-3"},J={key:1,class:"text-center font-semibold py-3"},Q={class:"bg-red-500 p-2 text-white font-bold mb-2"},X={class:"flex flex-col gap-2 mb-3 px-2"},Y={class:"w-full min-h-screen"},Z={class:"flex items-center w-full bg-white border-b border-gray-200"},tt={class:"flex lg:justify-start justify-between gap-10 max-w-[1150px] w-full px-3 mx-auto items-center"},et={class:"max-w-[750px] w-full md:block hidden relative"},st={class:"flex items-center border-2 border-[#FF4646] rounded-md w-full"},ot={class:"flex items-center h-full p-2 px-4 bg-[#FF4646]"},rt={class:"absolute -top-2 -right-2 flex items-center justify-center bg-[#FF4646] text-white text-xs font-semibold w-5 h-5 rounded-full"},lt={class:"max-w-[1150px] mx-auto px-3"},at={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},nt={class:"font-semibold text-lg"},it={class:"text-gray-600 mt-1"},dt={class:"font-bold"},ut={class:"text-gray-600 mt-1"},pt={class:"text-gray-500 mt-1 text-sm"},bt={__name:"orders",setup(f){const b=j(),{user:n,logout:S}=U(),A=O(),p=i(!1),v=i(!1),C=i(!1),h=i(""),H=i([{id:1,name:"Wireless Mouse",price:"$25",status:"Delivered",date:"2025-12-01"},{id:2,name:"Mechanical Keyboard",price:"$75",status:"Processing",date:"2025-12-03"},{id:3,name:"HD Monitor",price:"$150",status:"Shipped",date:"2025-12-05"}]),y=i("/images/default-avatar.png");D(()=>{n.value?.user_metadata?.avatar&&(y.value=n.value.user_metadata.avatar+"?t="+new Date().getTime())}),m.auth.onAuthStateChange((c,t)=>{t?.user?.user_metadata?.avatar&&(y.value=t.user.user_metadata.avatar+"?t="+new Date().getTime())});function M(c){m.auth.signInWithOAuth({provider:c,options:{redirectTo:window.location.origin,queryParams:{prompt:"select_account"}}}).catch(t=>console.error("Switch account error:",t.message))}function $(c){b.push(c)}return(c,t)=>(l(),a(F,null,[e("div",E,[e("ul",G,[t[13]||(t[13]=e("li",{class:"border-r border-gray-400 px-3 hover:text-[#FF46F6] cursor-pointer"},"Sell on AliExpress",-1)),t[14]||(t[14]=e("li",{class:"border-r border-gray-400 px-3 hover:text-[#FF46F6] cursor-pointer"},"Cookie preferences",-1)),t[15]||(t[15]=e("li",{class:"border-r border-gray-400 px-3 hover:text-[#FF46F6] cursor-pointer"},"Help",-1)),t[16]||(t[16]=e("li",{class:"border-r border-gray-400 px-3 hover:text-[#FF46F6] cursor-pointer"},"Buyer Protection",-1)),e("li",W,[r(o(u),{icon:"ic:sharp-install-mobile",width:"17"}),t[10]||(t[10]=x(" App ",-1))]),e("li",{onClick:t[5]||(t[5]=s=>p.value=!p.value),class:w(["relative flex items-center px-2 gap-1 cursor-pointer select-none",p.value?"font-bold bg-white border border-[#FF46F6] z-40 rounded-b shadow-md text-[#FF46F6] p-2 rounded-md":"border border-transparent text-red-500 font-bold"])},[o(n)?(l(),a("img",{key:0,src:y.value,class:"w-7 h-7 rounded-full border border-gray-200 object-cover"},null,8,q)):(l(),a(F,{key:1},[r(o(u),{icon:"ph:user-thin",width:"17"}),t[11]||(t[11]=x(" Account ",-1))],64)),r(o(u),{icon:"mdi:chevron-down",width:"15",class:w(["ml-1 transition-transform",p.value?"rotate-180":"rotate-0"])},null,8,["class"]),r(P,{name:"fade"},{default:g(()=>[p.value?(l(),a("div",K,[o(n)?(l(),a("div",J,[e("div",Q," Hello, "+d(o(n).email),1),e("div",X,[e("button",{onClick:t[0]||(t[0]=s=>M("google")),class:"text-gray-700 font-black cursor-pointer px-2 py-1 rounded border hover:bg-gray-100"}," Switch to Google "),e("button",{onClick:t[1]||(t[1]=s=>M("github")),class:"text-gray-700 font-black cursor-pointer px-2 py-1 rounded border hover:bg-gray-100"}," Switch to GitHub ")]),e("ul",null,[e("li",{onClick:t[2]||(t[2]=s=>$("/profile")),class:"text-[13px] py-2 px-4 w-full hover:bg-gray-200 cursor-pointer border border-gray-200 font-bold"}," My Profile "),e("li",{onClick:t[3]||(t[3]=s=>$("/orders")),class:"text-[13px] py-2 px-4 w-full hover:bg-gray-200 cursor-pointer font-bold border-b border-gray-200"}," My Orders "),e("li",{onClick:t[4]||(t[4]=(...s)=>o(S)&&o(S)(...s)),class:"text-[13px] py-2 px-4 w-full hover:bg-gray-200 cursor-pointer font-bold"}," Log out ")])])):(l(),a("div",R,[r(o(_),{to:"/auth",class:"bg-[#FF4646] w-full text-white text-center p-2 rounded-sm font-semibold text-[16px] mt-2"},{default:g(()=>[...t[12]||(t[12]=[x(" Login / Sign up ",-1)])]),_:1})]))])):T("",!0)]),_:1})],2)])]),e("div",Y,[e("div",Z,[e("div",tt,[r(o(_),{to:"/"},{default:g(()=>[...t[17]||(t[17]=[e("img",{width:"170",src:N,alt:"logo"},null,-1)])]),_:1}),e("div",et,[e("div",st,[B(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>h.value=s),onInput:t[7]||(t[7]=s=>C.value=h.value.length>0),class:"w-full placeholder-gray-400 text-sm pl-3 focus:outline-none",placeholder:"Search...",type:"text"},null,544),[[V,h.value]]),C.value?(l(),I(o(u),{key:0,icon:"eos-icons:loading"})):T("",!0),e("button",ot,[r(o(u),{icon:"ph:magnifying-glass",class:"text-[25px]",color:"#ffffff"})])])]),r(o(_),{to:"/shoppingcart",class:"relative"},{default:g(()=>[e("button",{class:"relative flex items-center cursor-pointer",onMouseenter:t[8]||(t[8]=s=>v.value=!0),onMouseleave:t[9]||(t[9]=s=>v.value=!1)},[e("span",rt,d(o(A)?.cart?o(A).cart.length:0),1),r(o(u),{icon:"ph:shopping-cart-simple-light",width:"33",height:"33",color:v.value?"#FF4646":"#000000"},null,8,["color"])],32)]),_:1})])]),t[20]||(t[20]=e("div",{class:"max-w-[1150px] mx-auto px-3 py-6"},[e("h1",{class:"text-2xl font-bold text-gray-800"},"My Orders"),e("p",{class:"text-gray-500 text-sm mt-1"},"Here is the list of your recent orders.")],-1)),e("div",lt,[e("div",at,[(l(!0),a(F,null,z(H.value,s=>(l(),a("div",{key:s.id,class:"border rounded-lg p-4 hover:shadow-lg transition-shadow"},[e("h2",nt,d(s.name),1),e("p",it,[t[18]||(t[18]=x("Price: ",-1)),e("span",dt,d(s.price),1)]),e("p",ut,[t[19]||(t[19]=x("Status: ",-1)),e("span",{class:w({"text-green-600 font-bold":s.status==="Delivered","text-yellow-600 font-bold":s.status==="Processing","text-blue-600 font-bold":s.status==="Shipped"})},d(s.status),3)]),e("p",pt,"Date: "+d(s.date),1)]))),128))])])])],64))}};export{bt as default};
