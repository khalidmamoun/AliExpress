import{G as S,r as u,g as E,n as g,H as F,y as I,w as x,o,a as t,c as a,b as T,k as v,F as P,m as j,s as f,t as r,T as G}from"./DP8Y3t9_.js";import L from"./CrYcFZXQ.js";import{u as A}from"./CAh-G4Tp.js";import"./afzBCQRM.js";import"./Cus7-ggC.js";import"./9PtdX7Ft.js";const B={id:"ItemPage",class:"mt-8 max-w-[1200px] mx-auto px-3"},N={key:0,class:"bg-white rounded-2xl shadow-lg p-6 md:flex gap-8 w-full"},$={class:"md:w-[40%] w-full"},V={class:"border border-gray-200 rounded-xl overflow-hidden"},D=["src"],W={key:0,class:"flex items-center justify-center mt-4 gap-3"},z=["onClick","src"],H={class:"md:w-[60%] w-full flex flex-col justify-start"},M={class:"text-[20px] font-semibold text-gray-900 mb-2 leading-snug"},R={class:"text-sm text-gray-500 mb-3"},U={class:"flex flex-wrap gap-1 mt-2 mb-3"},q={class:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded"},J={class:"flex items-end gap-3 mb-3"},K={class:"text-3xl font-bold text-black"},O={class:"text-sm line-through text-gray-400"},Q={key:1,class:"text-center text-gray-500 py-20"},X={key:0,class:"font-bold text-center bg-yellow-400 text-black p-5 rounded-lg shadow-lg"},le={__name:"[id]",setup(Y){const l=A(),h=S(),_=Number(h.params.id),e=u(null),i=u(""),d=u(!1),p=u(!1);function m(){e.value&&(d.value=l.checkout.some(n=>n.id===e.value.id))}async function b(){try{const s=await(await fetch(`https://fakestoreapi.com/products/${_}`)).json();e.value={...s,images:[s.image]},i.value=e.value.images[0],m()}catch(n){console.error("Error fetching product:",n)}}E(()=>{l.loadCart(),b(),m()});const y=g(()=>e.value?e.value.price.toLocaleString("en-EG"):""),w=g(()=>e.value?(e.value.price*1.05).toLocaleString("en-EG"):"");function k(){if(!l.user){p.value=!0,setTimeout(()=>p.value=!1,2500);return}l.addItem({id:e.value.id,title:e.value.title,price:e.value.price,url:e.value.images[0],description:e.value.description}),d.value=!0}return F(()=>l.checkout,m,{deep:!0}),(n,s)=>(o(),I(L,null,{default:x(()=>[t("div",B,[e.value?(o(),a("div",N,[t("div",$,[t("div",V,[t("img",{class:"object-contain w-full h-[420px] bg-white",src:i.value,alt:"صورة المنتج"},null,8,D)]),e.value.images.length>1?(o(),a("div",W,[(o(!0),a(P,null,j(e.value.images,(c,C)=>(o(),a("img",{key:C,onClick:Z=>i.value=c,src:c,width:"70",class:f(["rounded-lg object-cover border-2 cursor-pointer transition-all duration-300 hover:scale-105",i.value===c?"border-[#FF4646]":"border-gray-200"]),alt:"صورة مصغرة"},null,10,z))),128))])):v("",!0)]),t("div",H,[t("h1",M,r(e.value.title),1),t("p",R,r(e.value.description),1),t("div",U,[s[1]||(s[1]=t("span",{class:"text-xs bg-red-500 text-white px-2 py-0.5 rounded"},"Welcome Deal",-1)),s[2]||(s[2]=t("span",{class:"text-xs bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded"},"Top Selling",-1)),t("span",q,r(e.value.rating?.count||5e3)+"+ sold",1),s[3]||(s[3]=t("span",{class:"text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded"},"Free Shipping",-1))]),t("div",J,[t("span",K,r(y.value)+" EGP",1),t("span",O,r(w.value)+" EGP",1)]),t("button",{class:f(["w-fit px-10 py-3 rounded-md font-semibold transition mt-4",d.value?"bg-green-500 hover:bg-green-600 text-white cursor-default":"bg-red-500 hover:bg-red-700 text-white cursor-pointer"]),onClick:s[0]||(s[0]=c=>k())},r(d.value?"Item in Cart":"Add to Cart"),3)])])):(o(),a("div",Q,"جاري التحميل...")),T(G,{name:"fade"},{default:x(()=>[p.value?(o(),a("div",X," Welcome in Ali Express ( Please Login To Add Item in Cart ) ")):v("",!0)]),_:1})])]),_:1}))}};export{le as default};
